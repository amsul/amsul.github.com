/**
 * Wordspop Twitter Widget
 * Version 1.0
 *
 * Copyright (c) 2011 Wordspop
 * Licensed under the Apache License, Version 2.0 http://www.apache.org/licenses/LICENSE-2.0
 */
(function(a){WPop_Twitter={widgets:[],timeline:{},add:function(f,e,b,c){var d={id:f,username:e,show_follow:b,animate:c};this.widgets.push(d)},push:function(c){if(c==null||c.length==0){return}var d=c[0].user.screen_name;var b="";a.each(c,function(f,e){var g=e.text.replace(/((https?|s?ftp|ssh)\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!])/g,function(h){return'<a href="'+h+'">'+h+"</a>"}).replace(/\B(@([_a-z0-9]+))/ig,function(h){return'<a href="http://twitter.com/'+h.substring(1)+'">'+h+"</a>"});b+='<li><span class="content">'+g+'</span> <a href="http://twitter.com/'+d+"/statuses/"+e.id_str+'"><small>'+a.cuteTime({},e.created_at)+"</small></a></li>\n"});this.timeline[d]=b;this.display()},display:function(){var b=this;a.each(this.widgets,function(c,d){a("#twitter-timeline-"+d.id).html(b.timeline[d.username]);if(d.show_follow&&a(".twitter-widget .follow","#"+d.id).length==0){a(".twitter-widget","#"+d.id).append('<p class="follow">Follow <a href="http://twitter.com/'+d.username+'">@'+d.username+"</a> on Twitter</p>\n")}if(d.animate){b.animate(d.id)}})},animate:function(b){var c=a(".timeline","#"+b);c.addClass("animate");c.css({position:"relative"});a("#twitter-timeline-"+b).cycle({before:function(f,e,g,d){a(f).parents("div.timeline").animate({height:a(e).outerHeight()})},timeout:10000})}}})(jQuery);